diff --git a/Users/michael/Projects/oss/claude-transcript/src/JsonlToMarkdownConverter.ts b/Users/michael/Projects/oss/claude-transcript/src/JsonlToMarkdownConverter.ts
index 1234567..abcdefg 100644
--- a/Users/michael/Projects/oss/claude-transcript/src/JsonlToMarkdownConverter.ts
+++ b/Users/michael/Projects/oss/claude-transcript/src/JsonlToMarkdownConverter.ts
@@ -111,11 +111,20 @@
       // Capture first user prompt (not command elements)
       if (!this.firstUserPrompt && entry.type === 'user' && !entry.isMeta) {
         const content = entry.message?.content
-        if (typeof content === 'string' && !this.hasCommandElements(content)) {
-          this.firstUserPrompt = content
+        if (typeof content === 'string') {
+          const parser = new CommandParser(content)
+          if (!parser.hasCommandElements()) {
+            this.firstUserPrompt = content
+          }
         } else if (Array.isArray(content)) {
           // Look for first text content that's not a command
-          const textContent = content.find(c => c.type === 'text' && c.text && !this.hasCommandElements(c.text))
+          const textContent = content.find(c => {
+            if (c.type === 'text' && c.text) {
+              const parser = new CommandParser(c.text)
+              return !parser.hasCommandElements()
+            }
+            return false
+          })
           if (textContent?.text) {
             this.firstUserPrompt = textContent.text
           }