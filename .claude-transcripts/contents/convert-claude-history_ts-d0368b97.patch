diff --git a/Users/michael/Projects/oss/claude-transcript/convert-claude-history.ts b/Users/michael/Projects/oss/claude-transcript/convert-claude-history.ts
index 1234567..abcdefg 100644
--- a/Users/michael/Projects/oss/claude-transcript/convert-claude-history.ts
+++ b/Users/michael/Projects/oss/claude-transcript/convert-claude-history.ts
@@ -13,6 +13,92 @@
   isMeta?: boolean;
 }
 
+function getLanguageFromExtension(ext: string): string {
+  const languageMap: { [key: string]: string } = {
+    // JavaScript/TypeScript
+    'js': 'javascript',
+    'jsx': 'jsx',
+    'ts': 'typescript',
+    'tsx': 'tsx',
+    'mjs': 'javascript',
+    'cjs': 'javascript',
+    
+    // Web
+    'html': 'html',
+    'htm': 'html',
+    'css': 'css',
+    'scss': 'scss',
+    'sass': 'sass',
+    'less': 'less',
+    
+    // Data formats
+    'json': 'json',
+    'jsonl': 'json',
+    'yaml': 'yaml',
+    'yml': 'yaml',
+    'toml': 'toml',
+    'xml': 'xml',
+    
+    // Programming languages
+    'py': 'python',
+    'rb': 'ruby',
+    'go': 'go',
+    'rs': 'rust',
+    'java': 'java',
+    'kt': 'kotlin',
+    'swift': 'swift',
+    'c': 'c',
+    'cpp': 'cpp',
+    'cc': 'cpp',
+    'cxx': 'cpp',
+    'h': 'c',
+    'hpp': 'cpp',
+    'cs': 'csharp',
+    'php': 'php',
+    'r': 'r',
+    'lua': 'lua',
+    'dart': 'dart',
+    'elm': 'elm',
+    'clj': 'clojure',
+    'ex': 'elixir',
+    'exs': 'elixir',
+    
+    // Shell/Scripts
+    'sh': 'bash',
+    'bash': 'bash',
+    'zsh': 'bash',
+    'fish': 'fish',
+    'ps1': 'powershell',
+    'bat': 'batch',
+    'cmd': 'batch',
+    
+    // Config files
+    'ini': 'ini',
+    'cfg': 'ini',
+    'conf': 'conf',
+    'properties': 'properties',
+    'env': 'bash',
+    
+    // Documentation
+    'md': 'markdown',
+    'markdown': 'markdown',
+    'rst': 'rst',
+    'tex': 'latex',
+    
+    // Database
+    'sql': 'sql',
+    
+    // Other
+    'dockerfile': 'dockerfile',
+    'makefile': 'makefile',
+    'mk': 'makefile',
+    'diff': 'diff',
+    'patch': 'diff',
+  };
+  
+  return languageMap[ext] || '';
+}
+
 function processUserEntry(entry: Entry, lineNumber: number): string | null {
   const output: string[] = [];
 