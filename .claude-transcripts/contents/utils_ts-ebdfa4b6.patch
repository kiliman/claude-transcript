diff --git a/Users/michael/Projects/oss/claude-transcript/src/utils.ts b/Users/michael/Projects/oss/claude-transcript/src/utils.ts
index 1234567..abcdefg 100644
--- a/Users/michael/Projects/oss/claude-transcript/src/utils.ts
+++ b/Users/michael/Projects/oss/claude-transcript/src/utils.ts
@@ -20,12 +20,12 @@
 export function trimBlankLines(lines: string[]): string[] {
   // trim leading and trailing blank lines
   let start = 0
-  while (start < lines.length && lines[start].trim() === '') {
+  while (start < lines.length && lines[start]?.trim() === '') {
     start++
   }
 
   let end = lines.length - 1
-  while (end >= start && lines[end].trim() === '') {
+  while (end >= start && lines[end]?.trim() === '') {
     end--
   }
 